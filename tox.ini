[tox]
minversion = 3.4.0
envlist =
  py36-pd{24,25}-nb{43,44,45,46,47}-np{16,17,18}-sp{13,14}
  py37-pd{24,25}-nb{45,46,47}-np{16,17,18}-sp{13,14}
  # py38-pd25-nb47-np18-sp14

[testenv]
deps =
  pytest>=3.9
  pytest-doctestplus

  pd24: pandas>=0.24,<0.25
  pd25: pandas>=0.25,<0.26

  nb43: numba>=0.43,<0.44
  nb43: llvmlite<0.31
  nb44: numba>=0.44,<0.45
  nb44: llvmlite<0.31
  nb45: numba>=0.45,<0.46
  nb45: llvmlite<0.31
  nb46: numba>=0.46,<0.47
  nb46: llvmlite<0.31
  nb47: numba>=0.47,<0.48

  np16: numpy>=1.16,<1.17
  np17: numpy>=1.17,<1.18
  np18: numpy>=1.18,<1.19

  sp13: scipy>=1.3,<1.4
  sp14: scipy>=1.4,<1.5
  
  cffi
  pyarrow

commands = python3 -m pytest {posargs}
